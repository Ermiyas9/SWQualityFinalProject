<Window x:Class="GroundTerminalApp.SearchingPageApp"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wf="clr-namespace:System.Windows.Forms;assembly=System.Windows.Forms"
        Title="Search and Query" Height="770" Width="1200"
        Background="#1E1E2F" FontFamily="Arial" FontSize="20">

    <Canvas>

        <!-- this is the main title for the search window -->
        <Label Content="Search and Query" FontSize="36" FontWeight="Bold"
               Foreground="LightGreen" Canvas.Left="465" Canvas.Top="4"/>

        <!-- this section is for showing the index list we can select from also it will be populate based on the list count  -->
        <Label Content="Search Result" FontSize="28" 
               Foreground="#FFA500" Canvas.Left="75" Canvas.Top="89"/>

        <!-- Subtle card behind the list for better visual grouping -->
        <Border Canvas.Left="20" Canvas.Top="139" Width="290" Height="399"
                CornerRadius="12" Background="#2A2A3D" BorderBrush="#3A3A52" BorderThickness="1">
            <ListBox x:Name="SearchIndxListBox"
         Background="#333333"
         Foreground="#00FFFF"
         FontSize="16"
         BorderThickness="0"
         Margin="10">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Margin="5">
                            <TextBlock Text="{Binding}" TextWrapping="Wrap"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

        </Border>

        <!-- this is the result section where we show metrics and charts also we must collect a correct flight ID to pull out the information ..??-->
        <Label Content="Search by typing F, T, or C followed by the ID: F = Flight, T = Telemetry Package, C = Channel (e.g., F101, T25, C7)"
             FontSize="15"
             Foreground="LightGray" Canvas.Left="350" Canvas.Top="80"/>



        <!-- this is the search bar for entering queries -->
        <TextBox x:Name="SearchBoxTxtBx" Width="410" Height="40"
                 Canvas.Left="350" Canvas.Top="120"
                 Background="#2A2A3D" Foreground="White"
                 FontSize="18" BorderBrush="#3A3A52" BorderThickness="1"
                 Padding="10" HorizontalAlignment="Left" VerticalAlignment="Center" />

        <!-- Search button an -->
        <Button x:Name="SearchButton" Content="Search" Width="120" Height="40"
                Canvas.Left="780" Canvas.Top="119"
                Background="#7FC4FF" Foreground="#0B2545"
                FontSize="18" FontWeight="Bold" Cursor="Hand"
                BorderThickness="0" Click="SearchButton_Click" HorizontalAlignment="Center" VerticalAlignment="Top">
            <Button.Effect>
                <DropShadowEffect Color="#000000" BlurRadius="8" ShadowDepth="2" Opacity="0.3"/>
            </Button.Effect>
        </Button>

        <!-- Minimal spinner shown only while querying -->
        <Viewbox Canvas.Left="850" Canvas.Top="126" Width="28" Height="28" x:Name="SearchSpinner" Visibility="Collapsed">
            <Grid>
                <Ellipse Width="28" Height="28" Stroke="#888" StrokeThickness="3" Opacity="0.25"/>
                <Path Data="M14,3 A11,11 0 1 1 13.9,3"
                      Stroke="#7FC4FF" StrokeThickness="3" Fill="Transparent">
                    <Path.RenderTransform>
                        <RotateTransform Angle="0" CenterX="14" CenterY="14"/>
                    </Path.RenderTransform>
                    <Path.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimation Storyboard.TargetProperty="(Path.RenderTransform).(RotateTransform.Angle)"
                                                     From="0" To="360" Duration="0:0:1.2"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Path.Triggers>
                </Path>
            </Grid>
        </Viewbox>

        <!-- Results header with live badge and count -->
        <StackPanel Orientation="Horizontal"
                    Canvas.Left="350" Canvas.Top="170"
                    HorizontalAlignment="Left" VerticalAlignment="Center">
            <Label x:Name="ResultsHeaderLbl"
                   Content="Results (0)"
                   Foreground="White" FontSize="20" FontWeight="Bold"/>
            <Border Background="#2A8F4B" CornerRadius="6"
                    Margin="10,0,0,0" Padding="10,4">
                <TextBlock Text="LIVE" Foreground="White" FontWeight="Bold"/>
            </Border>
        </StackPanel>

        <Border Background="#2A2A3D" Canvas.Left="345" Canvas.Top="204"
                Width="800" Height="75" CornerRadius="12" BorderBrush="#3A3A52" BorderThickness="1"
                HorizontalAlignment="Center" VerticalAlignment="Top">
            <StackPanel Orientation="Horizontal" Margin="16,12,16,12" VerticalAlignment="Center">
                <Border Background="#454565" CornerRadius="8" Padding="12,6" Margin="0,0,8,0">
                    <TextBlock x:Name="QueryStatusChip" Text="Live Data not ready yet" Foreground="White"/>
                </Border>
                <Border Background="#454565" CornerRadius="8" Padding="12,6" Margin="0,0,8,0">
                    <TextBlock x:Name="FilterChip" Text="{Binding TailNumber}" Foreground="White"/>
                </Border>
                <Border Background="#454565" CornerRadius="8" Padding="12,6">
                    <TextBlock x:Name="RangeChip" Text="Range: Last 1h" Foreground="White"/>
                </Border>
            </StackPanel>
        </Border>

        <!-- Skeleton loader shown while querying results -->
        <Grid x:Name="SkeletonLoader"
              Canvas.Left="345" Canvas.Top="270"
              Width="800" Height="200" Visibility="Collapsed">
            <Grid.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                    <GradientStop Color="#2F2F3F" Offset="0"/>
                    <GradientStop Color="#3A3A4A" Offset="0.5"/>
                    <GradientStop Color="#2F2F3F" Offset="1"/>
                </LinearGradientBrush>
            </Grid.Background>
            <StackPanel Margin="20">
                <Rectangle Height="18" Width="760" Fill="#444" RadiusX="6" RadiusY="6" Margin="0,10,0,0"/>
                <Rectangle Height="18" Width="640" Fill="#444" RadiusX="6" RadiusY="6" Margin="0,10,0,0"/>
                <Rectangle Height="18" Width="700" Fill="#444" RadiusX="6" RadiusY="6" Margin="0,10,0,0"/>
                <Rectangle Height="18" Width="600" Fill="#444" RadiusX="6" RadiusY="6" Margin="0,10,0,0"/>
            </StackPanel>
        </Grid>

        <!-- this part is for showing bar graphs and I am thinking displaying line or pie chart here or different one for live data -->
        <Border Background="#2A2A3D" Canvas.Left="345" Canvas.Top="270"
                Width="800" Height="400" CornerRadius="12"
                BorderBrush="#3A3A52" BorderThickness="1">
            <StackPanel Margin="16">
                <Label Content="Live Updates for Upcoming FLight)" Foreground="LightGoldenrodYellow" FontSize="26" FontWeight="Bold" HorizontalAlignment="Center" Margin="10,25"/>
                <!-- this is the source to updates the line for live graph kind display -->
                <StackPanel Orientation="Vertical" Margin="20">
                    <TextBlock Text="{Binding TailNumber}" FontSize="20"  Foreground="Orange" Margin="5"/>
                    <TextBlock Text="{Binding Attitude}" FontSize="20" Foreground="Orange" Margin="5"/>
                    <TextBlock Text="{Binding Pitch}" FontSize="20"  Foreground="Orange" Margin="5"/>
                    <TextBlock Text="{Binding AccelX}" FontSize="20"  Foreground="Orange" Margin="5"/>
                    <TextBlock Text="{Binding AccelY}" FontSize="20"  Foreground="Orange" Margin="5"/>
                    <TextBlock Text="{Binding AccelZ}" FontSize="20"  Foreground="Orange" Margin="5"/>
                    <TextBlock Text="{Binding Bank}" FontSize="20"  Foreground="Orange" Margin="5"/>
                </StackPanel>






            </StackPanel>
        </Border>

        <!-- Empty state message for results -->
        <Border x:Name="EmptyStateCard" Background="#2A2A3D" Canvas.Left="725" Canvas.Top="489"
                Width="420" Height="240" CornerRadius="12"
                BorderBrush="#3A3A52" BorderThickness="1" Visibility="Collapsed">
            <StackPanel Margin="16" VerticalAlignment="Center" HorizontalAlignment="Center">
                <Label Content="No results" Foreground="#CCCCCC" FontSize="22" FontWeight="Bold" HorizontalAlignment="Center"/>
                <TextBlock Text="Try adjusting filters or time range." Foreground="#AAAAAA" FontSize="16" HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- this is a connection status block and it is toggleable symbol like when its online it shows the online green mark when offline will show offline from icons8 website -->
        <Grid Canvas.Left="30" Canvas.Top="574" Width="265" Height="120"
              HorizontalAlignment="Center" VerticalAlignment="Top">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Heading -->
            <Label x:Name="connectionStatusHeading"
                   Content="Connection Status"
                   FontSize="22"
                   Foreground="LightGray"
                   Grid.Row="0"
                   HorizontalAlignment="Left"
                   VerticalAlignment="Center"/>

            <!-- Symbol + status text -->
            <StackPanel Orientation="Horizontal"
                        Grid.Row="1"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Margin="0,10,0,0">

                <Image x:Name="onlineIcon"
                       Source="https://img.icons8.com/nolan/64/online.png"
                       Width="48" Height="48"
                       Visibility="Collapsed"/>

                <Image x:Name="offlineIcon"
                       Source="https://img.icons8.com/3d-fluency/94/wi-fi-disconnected.png"
                       Width="48" Height="48"
                       Visibility="Visible"/>

                <Label x:Name="connectionStatusLbl"
                       Content="OFFLINE"
                       FontSize="18"
                       Foreground="Red"
                       VerticalAlignment="Center"
                       Margin="10,0,0,0"/>
            </StackPanel>
        </Grid>

    </Canvas>
</Window>
